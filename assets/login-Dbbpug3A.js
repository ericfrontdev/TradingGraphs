import{g as U,h as G,s as B,a1 as N,_ as C,r as S,q as H,t as V,a7 as K,a8 as J,T as w,j as e,y as $,S as j,z as Q,a9 as D,aa as W,ab as X,ac as Y,G as t,O as I,ad as Z,ae as ee,af as se,L as _,a as re,P as ae}from"./index-BiWfg13Y.js";import{A as oe}from"./AuthWrapper-FhOI6Z1i.js";import{u as te,F as le,c as ne,a as T}from"./useScriptRef-C0t7QmvN.js";import{A as ie}from"./AnimateButton-DAWN7xTQ.js";import{E as ce,a as de}from"./EyeInvisibleOutlined-Dnsu-qdn.js";import{I as M,F as R}from"./InputLabel-CQOjWn8o.js";import{C as me}from"./Checkbox-DQrDL7FU.js";function pe(s){return G("MuiFormControlLabel",s)}const f=U("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),ue=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],he=s=>{const{classes:a,disabled:l,labelPlacement:d,error:n,required:o}=s,x={root:["root",l&&"disabled",`labelPlacement${N(d)}`,n&&"error",o&&"required"],label:["label",l&&"disabled"],asterisk:["asterisk",n&&"error"]};return Q(x,pe,a)},be=B("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(s,a)=>{const{ownerState:l}=s;return[{[`& .${f.label}`]:a.label},a.root,a[`labelPlacement${N(l.labelPlacement)}`]]}})(({theme:s,ownerState:a})=>C({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${f.disabled}`]:{cursor:"default"}},a.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},a.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},a.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${f.label}`]:{[`&.${f.disabled}`]:{color:(s.vars||s).palette.text.disabled}}})),xe=B("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(s,a)=>a.asterisk})(({theme:s})=>({[`&.${f.error}`]:{color:(s.vars||s).palette.error.main}})),ge=S.forwardRef(function(a,l){var d,n;const o=H({props:a,name:"MuiFormControlLabel"}),{className:x,componentsProps:v={},control:m,disabled:r,disableTypography:p,label:i,labelPlacement:u="end",required:c,slotProps:h={}}=o,y=V(o,ue),g=K(),A=(d=r??m.props.disabled)!=null?d:g==null?void 0:g.disabled,L=c??m.props.required,E={disabled:A,required:L};["checked","name","onChange","value","inputRef"].forEach(P=>{typeof m.props[P]>"u"&&typeof o[P]<"u"&&(E[P]=o[P])});const O=J({props:o,muiFormControl:g,states:["error"]}),k=C({},o,{disabled:A,labelPlacement:u,required:L,error:O.error}),F=he(k),q=(n=h.typography)!=null?n:v.typography;let b=i;return b!=null&&b.type!==w&&!p&&(b=e.jsx(w,C({component:"span"},q,{className:$(F.label,q==null?void 0:q.className),children:b}))),e.jsxs(be,C({className:$(F.root,x),ownerState:k,ref:l},y,{children:[S.cloneElement(m,E),L?e.jsxs(j,{display:"block",children:[b,e.jsxs(xe,{ownerState:k,"aria-hidden":!0,className:F.asterisk,children:["â€‰","*"]})]}):b]}))});function z({isDemo:s=!1}){const[a,l]=D.useState(!1),{login:d}=W(),n=te(),[o,x]=D.useState(!1),v=()=>{x(!o)},m=r=>{r.preventDefault()};return e.jsx(e.Fragment,{children:e.jsx(le,{initialValues:{email:"info@codedthemes.com",password:"123456",submit:null},validationSchema:ne().shape({email:T().email("Must be a valid email").max(255).required("Email is required"),password:T().max(255).required("Password is required")}),onSubmit:async(r,{setErrors:p,setStatus:i,setSubmitting:u})=>{try{await d(r.email,r.password),n.current&&(i({success:!0}),u(!1),X("api/menu/dashboard",Y))}catch(c){console.error(c),n.current&&(i({success:!1}),p({submit:c.message}),u(!1))}},children:({errors:r,handleBlur:p,handleChange:i,handleSubmit:u,isSubmitting:c,touched:h,values:y})=>e.jsx("form",{noValidate:!0,onSubmit:u,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsxs(j,{spacing:1,children:[e.jsx(M,{htmlFor:"email-login",children:"Email Address"}),e.jsx(I,{id:"email-login",type:"email",value:y.email,name:"email",onBlur:p,onChange:i,placeholder:"Enter email address",fullWidth:!0,error:!!(h.email&&r.email)})]}),h.email&&r.email&&e.jsx(R,{error:!0,id:"standard-weight-helper-text-email-login",children:r.email})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsxs(j,{spacing:1,children:[e.jsx(M,{htmlFor:"password-login",children:"Password"}),e.jsx(I,{fullWidth:!0,error:!!(h.password&&r.password),id:"-password-login",type:o?"text":"password",value:y.password,name:"password",onBlur:p,onChange:i,endAdornment:e.jsx(Z,{position:"end",children:e.jsx(ee,{"aria-label":"toggle password visibility",onClick:v,onMouseDown:m,edge:"end",color:"secondary",children:o?e.jsx(ce,{}):e.jsx(de,{})})}),placeholder:"Enter password"})]}),h.password&&r.password&&e.jsx(R,{error:!0,id:"standard-weight-helper-text-password-login",children:r.password})]}),e.jsx(t,{item:!0,xs:12,sx:{mt:-1},children:e.jsxs(j,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,children:[e.jsx(ge,{control:e.jsx(me,{checked:a,onChange:g=>l(g.target.checked),name:"checked",color:"primary",size:"small"}),label:e.jsx(w,{variant:"h6",children:"Keep me sign in"})}),e.jsx(se,{variant:"h6",component:_,to:s?"/auth/forgot-password":"/forgot-password",color:"text.primary",children:"Forgot Password?"})]})}),r.submit&&e.jsx(t,{item:!0,xs:12,children:e.jsx(R,{error:!0,children:r.submit})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(ie,{children:e.jsx(re,{disableElevation:!0,disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Login"})})})]})})})})}z.propTypes={isDemo:ae.bool};function Le(){const{isLoggedIn:s}=W();return e.jsx(oe,{children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsxs(j,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:[e.jsx(w,{variant:"h3",children:"Login"}),e.jsx(w,{component:_,to:s?"/auth/register":"/register",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Don't have an account?"})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(z,{isDemo:s})})]})})}export{Le as default};
